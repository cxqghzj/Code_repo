$8 : 23$ T1大水题，大样例有一个死活过不去。

$8 : 34$ 终于过了，看T2。

似乎可以直接用 $x + y$ 和 $xy$ 解出 $x$ 和 $y$。但是在模意义下似乎是没法解的？

考虑极限情况，$x$ 和 $y$ 都远远大于 $1e18$，

考虑用别的方式解，但是终究没法绕开 $x^2 y$ 等类似情况。

不难想到 $(x^2 + y^2) \times (x + y) = x^3 + y^3 + x^2y + yx^2$

而 $x^2y + yx^2 = xy \times (x + y)$

那我们现在就得到了一个 $O (n)$ 的算法，可以获得 60pts.

得出: $f_n = f_{n - 1} \times (x + y) - f_{n - 2} \times (xy)$

使用矩阵快速幂，获得100pts.

$9 : 22$ 过了。

看T3。

考虑该问题的子问题，对于一颗 $n$ 个点的树，如何求其中 $m$ 个点的最短路径。

首先求得所有点的 $lca$ 复杂度 $O (n log n)$，然后求得最长的两条路径，使用树形dp，$O (n)$。

然后对于路径上所有的点跑一遍bfs，$O(n)$。

注意到 $m \le 2000$ ，可以考虑固定这两个点，然后暴力求出答案，期望得分：75pts

考虑看 T4。

注意到 $a_1 < a_2 < ... < a_m$ 似乎有很好的性质。

如果把每一段新增的序列设为 $1, 2, 3, 4 ... m$

那就会变成：

- 1
- 2 1
- 3 1 2
- 4 2 1 3
- 5 3 1 2 4
- 6 4 2 1 3 5

规律很显然了。

$10 : 01$ 过了。

目前得分：$100 + 100 + 0 + 100 = 300pts$

最后2h rush一波T3。

争取拿到 $75 ~ 100 pts$。

换个思路，考虑枚举 $lca$, 那么我们当前的方案一定是 $lca$ 子树内的点。

$11 : 14$ 怒打157行代码。

$11 : 59$ 结束了，喜提0pts.

Upd: $16 : 48$。

喜报，正解和考场思路一模一样。
