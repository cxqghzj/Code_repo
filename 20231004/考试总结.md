$[8 : 01]$ 看完题目，T1感觉转换一下就能做，T2是期望题，可尝试，T3T4目前没有思路。

T1感觉还是不太好转换，先看看T2。

$[8 : 17]$ 对于T2，注意到求的答案即为所有方案下的三元组的个数之和。不难想到 $n ^ 3$ 算法，暴力枚举三个点，求这三条边同时被选到的方案数。

考虑特殊性质AB，对于A，显然可以使用数学方法算出来。

$[8 : 20]$ 上个厕所冷静下。

注意到如果可以把图初始就存在的三元组判掉，然后就能简单计算了。

bitset 固然可以直接做，但是想拿全分肯定不行。由于最初的边数只有 $n$ 个，考虑对于每一个点算一遍bfs即可。

$[8 : 56]$ 开始写。

$[9 : 45]$ 过样例了，但是大样例挂了。不慌，先构造点小样例。

$[10 : 19]$ 过大样例了，纯属我nt。蚌埠住了。

因为我用的bitset，没有用bfs的写法，所以复杂度不能保证，只能寄希望于lc的神机了。

很慌现在，得火树看T4.

$[10 : 29]$ T4 有点难判重，难搞啊。

注意到T3，建完过后的图是一棵基环树。现在有 $x$ 个环，每次操作可以合并两个环，用类似最小生成树的思路，合并即可。

$[10 : 51]$ T3 过了，目前得分：$0 + 70 ~ 100 + 100 + 0 = 170 ~ 200$

先打 T1 的状压暴力。

蚌埠住了，T1的状压暴力只有10pts，所以还是试图拿到T2的满分吧。

$[11 : 53]$ 卡了1h的T2，始终无法过 $n = 4000$ 的点。
